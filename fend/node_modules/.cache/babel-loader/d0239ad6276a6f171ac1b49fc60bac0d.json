{"remainingRequest":"/var/www/html/vue-front/node_modules/babel-loader/lib/index.js!/var/www/html/vue-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/var/www/html/vue-front/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/var/www/html/vue-front/src/components/categories/Add.vue?vue&type=script&lang=js","dependencies":[{"path":"/var/www/html/vue-front/src/components/categories/Add.vue","mtime":1638965596000},{"path":"/var/www/html/vue-front/babel.config.js","mtime":1644791758000},{"path":"/var/www/html/vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/vue-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/var/www/html/vue-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/vue-front/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL3Zhci93d3cvaHRtbC92dWUtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL3Zhci93d3cvaHRtbC92dWUtZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICdBZGQgQ2F0ZWdvcnknLAogICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgZGF0YToge30sCiAgICAgIHJvd3M6IFtdLAogICAgICBjb2x1bW5zOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2FsbEFwaSgiZ2V0IiwgImNhdGVnb3JpZXM/Z2V0X2RhdGE9dHJ1ZSIsIHsKICAgICAgICAgICAgICAgIGRhdGE6IF90aGlzLmRhdGEKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF90aGlzLmNhdGVnb3JpZXMgPSByZXMuZGF0YS5yZXN1bHQucm93czsKCiAgICAgICAgICAgICAgaWYgKF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPiAwKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5lZGl0KCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc3RvcmU6IGZ1bmN0aW9uIHN0b3JlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2FsbEFwaSgiUE9TVCIsICJjYXRlZ29yaWVzIiwgewogICAgICAgICAgICAgICAgICBkYXRhOiBfdGhpczIuZGF0YQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5iYWNrKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jYWxsQXBpKCJHRVQiLCAiY2F0ZWdvcmllcy8iICsgX3RoaXMzLiRyb3V0ZS5wYXJhbXMuaWQsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczMuZGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmNhbGxBcGkoInBhdGNoIiwgImNhdGVnb3JpZXMvIiArIF90aGlzNC4kcm91dGUucGFyYW1zLmlkLCBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczQuZGF0YSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgYWxlcnQocmVzLmRhdGEubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5nbygtMSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBhbGVydCgnZmFpbGVkJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;AAmCI,eAAe;AACZA,MADY,kBACN;AACH,WAAO;AACFC,WAAK,EAAC,cADJ;AAEFC,gBAAU,EAAC,EAFT;AAGFF,UAAI,EAAC,EAHH;AAIFG,UAAI,EAAC,EAJH;AAKFC,aAAO,EAAC;AALN,KAAP;AAOD,GATU;AAUNC,SAVM,qBAUI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACO,KAAI,CAACC,OAAL,CAAa,KAAb,EAAmB,0BAAnB,EAA8C;AACvDN,oBAAI,EAAC,KAAI,CAACA;AAD6C,eAA9C,CADP;;AAAA;AACHO,iBADG;AAIP,mBAAI,CAACL,UAAL,GAAgBK,GAAG,CAACP,IAAJ,CAASQ,MAAT,CAAgBL,IAAhC;;AACF,kBAAG,KAAI,CAACM,MAAL,CAAYC,MAAZ,CAAmBC,EAAnB,GAAsB,CAAzB,EAA2B;AAC1B,qBAAI,CAACC,IAAL;AACD;;AAPS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQd,GAlBU;AAmBXC,SAAO,EAAC;AACEC,SADF,mBACS;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQ,MAAI,CAACR,OAAL,CAAa,MAAb,EAAoB,YAApB,EAAiC;AAC7CN,sBAAI,EAAC,MAAI,CAACA;AADmC,iBAAjC,CADR;;AAAA;AACFO,mBADE;;AAIX;AACA,sBAAI,CAACQ,OAAL,CAAaC,IAAb;;AALW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMZ,KAPG;AAQEJ,QARF,kBAQQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACS,MAAI,CAACN,OAAL,CAAa,KAAb,EAAmB,gBAAc,MAAI,CAACG,MAAL,CAAYC,MAAZ,CAAmBC,EAApD,EAAuD,EAAvD,CADT;;AAAA;AACDJ,mBADC;AAEP,sBAAI,CAACP,IAAL,GAAUO,GAAG,CAACP,IAAd;;AAFO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGX,KAXG;AAYEiB,UAZF,oBAYU;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACO,MAAI,CAACX,OAAL,CAAa,OAAb,EAAqB,gBAAc,MAAI,CAACG,MAAL,CAAYC,MAAZ,CAAmBC,EAAtD,oBACV,MAAI,CAACX,IADK,EADP;;AAAA;AACHO,mBADG;;AAKV,oBAAGA,GAAG,CAACP,IAAJ,CAASkB,MAAT,IAAiB,IAApB,EAAyB;AAC1BC,uBAAK,CAACZ,GAAG,CAACP,IAAJ,CAASoB,OAAV,CAAL;;AACA,wBAAI,CAACL,OAAL,CAAaM,EAAb,CAAgB,CAAC,CAAjB;AACA,iBAHC,MAGG;AACDF,uBAAK,CAAC,QAAD,CAAL;AACJ;;AAVY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWd;AAvBI;AAnBG,CAAf","names":["data","title","categories","rows","columns","created","callApi","res","result","$route","params","id","edit","methods","store","$router","back","update","status","alert","message","go"],"sourceRoot":"","sources":["/var/www/html/vue-front/src/components/categories/Add.vue"],"sourcesContent":["<template>\n    <div class=\"home\" ref=\"userref\">\n       <h4> {{title}}  </h4>\n        <div class=\"form-group\">\n           <div class=\"col-sm-12\">\n               <label for=\"\" class=\"form-label\"> Parent Category: </label>\n               <select class=\"form-control\" v-model=\"data.parent_id\" >\n                   <option v-for=\"item in categories\" :key=\"item.id\" :value=\"item.id\">\n                       {{item.name_ar}}\n                   </option>\n               </select>\n           </div>\n       </div>\n       <div class=\"form-group\">\n           <div class=\"col-sm-12\">\n               <label for=\"\" class=\"form-label\"> Name AR: </label>\n               <input type=\"text\" class=\"form-control\" v-model=\"data.name_ar\" />\n           </div>\n       </div>\n       <div class=\"form-group\">\n           <div class=\"col-sm-12\">\n               <label for=\"\" class=\"form-label\"> Name EN: </label>\n               <input type=\"text\" class=\"form-control\" v-model=\"data.name_en\" />\n           </div>\n       </div>\n       \n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" @click=\"$router.back();\">Back</button>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"($route.params.id>0)?update():store()\">Save</button>\n      </div>\n    </div> \n</template>\n \n<script>\n\n    export default { \n       data(){\n          return {\n               title:'Add Category',\n               categories:[],\n               data:{},\n               rows:[],\n               columns:[]\n            }\n        },            \n       async created() {//run before template\n              const res=await this.callApi(\"get\",\"categories?get_data=true\",{\n                     data:this.data\n                 });\n                this.categories=res.data.result.rows;\n              if(this.$route.params.id>0){\n               this.edit(); \n              }\n        },\n        methods:{\n            async store(){\n                 const res=await this.callApi(\"POST\",\"categories\",{\n                     data:this.data\n                 });\n              // this.$router.go(-1);\n              this.$router.back();\n            }, \n            async edit(){\n                 const res=await this.callApi(\"GET\",\"categories/\"+this.$route.params.id,{});\n                 this.data=res.data;\n            },  \n            async update(){\n                 const res=await this.callApi(\"patch\",\"categories/\"+this.$route.params.id,{\n                    ...this.data\n                 });\n               \n                if(res.data.status==true){\n               alert(res.data.message) ;\n               this.$router.go(-1);\n              }else{\n                  alert('failed');\n              }\n            }\n           \n        }\n        \n    }\n</script>\n"]}]}